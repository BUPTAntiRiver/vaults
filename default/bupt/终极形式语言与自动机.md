# 第 7 章 下推自动机 PDA

## PDA 与 CFG 等价

### 终态接受与空栈接受相等价

#### 终态 to 空栈

添加一个状态，当达到终态后，完成**清栈**工作。
添加一个状态和一个**栈底元素**，防止自动机在识别过程中达到空栈，使得本来应该被拒绝的串因为空栈而被错误接受。

#### 空栈 to 终态

为了使得新 PDA 能够模拟达到空栈的效果，添加一个**栈底元素**，和一个开始状态。
添加一个终止状态，当栈底元素称为栈顶时，进入。

### PDA 等价于 CFG

**预处理**：将 CFG 化简为 GNF 然后再构造 PDA

#### CFG to PDA

对于任意的 $A\in V,a\in T,\gamma \in V^*:$
$\delta(q,a,A)=\{(q,\gamma)|A\rightarrow a\gamma \in P\}$
GNF 不考虑空串情况，最后我们单独考虑空串，添加一个起始状态 $q_0$ 和栈底元素 $Z$ 如果遇到空串直接接受，或者视作空移动移至 $q$ 继续接受。

#### PDA to CFG

将 $[q, A, ?]$ 视作 CFG 中的一个**变量**，此处使用的符号是 PDA 中的符号，$q$ 表示**当前状态**符号，$A$ 表示相应的**栈顶符号**，$?$ 表示当前的**次栈顶**（$A$ 下方一项）成为栈顶时的**状态符号**。
例如：对于 PDA 的移动 $\delta(q,a,A)=(q_1,A_1A_2\ldots A_n)$ 可以表示为
$$[q,A,?]\rightarrow a[q_1,A_1,q_2][q_2,A_2,q_3]\ldots[q_n,A_n,?]$$
此处 $?$ 可能是任意状态，因此在构造时需要考虑全部状态，这就使得一个 PDA 移动可以转换成 $|Q|^n$ 个 CFG 产生式。
可以通过画出状态转移图来判断哪些产生式是不可能的，可以消去化简。

# 第 8 章 上下文无关文法的性质

## CFL 的泵引理

正则语言存在泵引理来证明一个语言不是正则语言，对于 CFL 而言，也有泵引理。

### 定义：CFL 的泵引理

对于任意的 CFL $L$，存在仅依赖于 $L$ 的正整数 $N$，对于**任意**的 $z\in L$，当 $|z|\geq N$ 时，**存在** $u,v,w,x,y$，使得 $z=uvwxy$，同时满足：

1. $|vwx|\leq N$
2. $|vx|\geq 1$
3. 对于任意的非负整数 $i$，$uv^iwx^iy\in L$
